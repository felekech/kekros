{"remainingRequest":"/Users/miltomacos/Documents/development/vue_projects/one-news/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/miltomacos/Documents/development/vue_projects/one-news/src/components/storydesk.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/miltomacos/Documents/development/vue_projects/one-news/src/components/storydesk.vue","mtime":1595249989802},{"path":"/Users/miltomacos/Documents/development/vue_projects/one-news/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miltomacos/Documents/development/vue_projects/one-news/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/miltomacos/Documents/development/vue_projects/one-news/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/miltomacos/Documents/development/vue_projects/one-news/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYiBmcm9tICIuLi9maXJlYmFzZV9jb25maWcvZmlyZWJhc2VJbml0IjsKLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdG9yeToge30sCiAgICAgIHVzZXI6IHt9LAogICAgICBzbHVnbGluZTogIiIsCiAgICAgIGhlYWRsaW5lOiAiIiwKICAgICAgYm9keTogIiIsCiAgICAgIGltYWdldXJsOiAiIiwKICAgICAgdXJsOiB7fSwKICAgICAgYXVkaW91cmw6IHt9LAogICAgICBpbWFnZToge30sCiAgICAgIGF1ZGlvRGF0YVZhbHVlOiB7fSwKCiAgICAgIGF1ZGlvaWQ6IHt9LAogICAgICB2aWRlb3M6IFtdLAogICAgICBpbWFnZWlkOiB7fSwKICAgICAgdmlkZW9pZDoge30sCiAgICAgIGltYWdlczogW10sCiAgICAgIGF1ZGlvczogW10sCiAgICAgIHN0b3JpZXM6IFtdLAogICAgICBpbWFnZURhdGFWYWx1ZTogW10sCiAgICAgIHRlc3RTdG9yeTogW10sCiAgICAgIGlzUG9saXRpY3M6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHZhciBsaW5rID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICB0aGlzLmlzUG9saXRpY3MgPSBsaW5rLmluY2x1ZGVzKCJwb2xpdGljcyIpOwogICAgLy8gY29uc29sZS5sb2cobGluay5pbmNsdWRlcygicG9saXRpY3MiKSk7CiAgICBpZiAodGhpcy5pc1BvbGl0aWNzKSB7CiAgICAgIHRoaXMuc3RvcmllcyA9IFtdOwogICAgICBkYi5jb2xsZWN0aW9uKCJwdWJsaXNoZWRfc3RvcmllcyIpCiAgICAgICAgLmRvYygicG9saXRpY3MiKQogICAgICAgIC5jb2xsZWN0aW9uKCJzdG9yaWVzIikKICAgICAgICAuZ2V0KCkKICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKQogICAgICAgIC50aGVuKHF1ZXJ5U25hcHNob3QgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocXVlcnlTbmFwc2hvdCk7CgogICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvYy5kYXRhKCkpOwogICAgICAgICAgICB0aGlzLnN0b3JpZXMucHVzaChkb2MuZGF0YSgpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgdGhpcy50ZXN0U3RvcnkucHVzaCh0aGlzLnN0b3JpZXNbMV0pOwogICAgICAgICAgdGhpcy50ZXN0U3RvcnkucHVzaCh0aGlzLnN0b3JpZXNbMl0pOwogICAgICAgICAgY29uc29sZS5sb2coInN0b3JpZXMiLCB0aGlzLnN0b3JpZXNbMV0pOwogICAgICAgIH0pOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BvbGl0aWNzIik7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVzdFN0b3J5KTsKICAgIH0gCiAgICBlbHNlIHsKICAgICAgZGIuY29sbGVjdGlvbigicHVibGlzaGVkX3N0b3JpZXMiKQogICAgICAgIC5kb2MoInNwb3J0IikKICAgICAgICAuY29sbGVjdGlvbigic3RvcmllcyIpCiAgICAgICAgLmdldCgpCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSkKICAgICAgICAudGhlbihxdWVyeVNuYXBzaG90ID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHF1ZXJ5U25hcHNob3QpOwoKICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhkb2MuZGF0YSgpKTsKICAgICAgICAgICAgdGhpcy5zdG9yaWVzLnB1c2goZG9jLmRhdGEoKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMudGVzdFN0b3J5LnB1c2godGhpcy5zdG9yaWVzWzFdKTsKICAgICAgICAgIHRoaXMudGVzdFN0b3J5LnB1c2godGhpcy5zdG9yaWVzWzJdKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJzdG9yaWVzIiwgdGhpcy5zdG9yaWVzWzFdKTsKICAgICAgICB9KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zb2NpZXR5Iik7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMudGVzdFN0b3J5KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGVkaXQoaW5kZXgpIHsKICAgICAgdGhpcy5zdG9yeSA9IHRoaXMuc3Rvcmllc1tpbmRleF07CiAgICAgIHRoaXMuc3RvcnkgPSB0aGlzLnRlc3RTdG9yeVtpbmRleF07CiAgICAgIGNvbnNvbGUubG9nKGluZGV4KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvZGV0YWlsIiwKICAgICAgICBxdWVyeTogeyBzdG9yeTogdGhpcy5zdG9yeSB9CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["storydesk.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"storydesk.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div v-for=\"(story,index) in stories\" :key=\"story.id\" @click=\"edit(index)\">\n      <div v-if=\"index==0\" id=\"flex\" >\n        <div class=\"row title\"  >\n          <div class=\"col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-md-3\">\n            <font class=\"slugline\" id=\"key_word\">{{story.slugline}}</font>\n            <font>\n              <h1 class=\"head h1 mt-2 mb-lg-4\">\n                <b>{{story.headline}}</b>\n              </h1>\n            </font>\n          </div>\n        </div>\n        <div class=\"mx-md-3 imgs\" v-html=\"story.body\"></div>\n        <div class=\"col-lg-9 col-md-10 abstract mx-1\">\n          <font>{{story.abstract}}</font>\n        </div>\n      </div>\n    </div>\n    <div>\n      <div\n        class=\"row mt-5 mx-lg-5 mx-md-3 px-xl-5 txt-img\"\n        v-for=\"(story,index) in stories.slice(1)\"\n        :key=\"story.id\"\n        @click=\"edit(index)\"\n      >\n        <div class=\"col-lg-5 col-md-6 col-sm-12\" >\n          <div v-html=\"story.body\"></div>\n        </div>\n        <div class=\"col-lg-7 col-md-6 col-sm-12\">\n          <div class=\"txt\">\n            <font id=\"key_word\">{{story.slugline}}</font>\n            <font>\n              <h1 class=\"headline\">\n                <b>{{story.headline}}</b>\n              </h1>\n            </font>\n            <font>{{story.abstract}}</font>\n            <font>\n              <p>{{story.byline}}</p>\n            </font>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport db from \"../firebase_config/firebaseInit\";\n/* eslint-disable no-console */\n\nexport default {\n  data() {\n    return {\n      story: {},\n      user: {},\n      slugline: \"\",\n      headline: \"\",\n      body: \"\",\n      imageurl: \"\",\n      url: {},\n      audiourl: {},\n      image: {},\n      audioDataValue: {},\n\n      audioid: {},\n      videos: [],\n      imageid: {},\n      videoid: {},\n      images: [],\n      audios: [],\n      stories: [],\n      imageDataValue: [],\n      testStory: [],\n      isPolitics: false\n    };\n  },\n  created() {\n    var link = window.location.href;\n    this.isPolitics = link.includes(\"politics\");\n    // console.log(link.includes(\"politics\"));\n    if (this.isPolitics) {\n      this.stories = [];\n      db.collection(\"published_stories\")\n        .doc(\"politics\")\n        .collection(\"stories\")\n        .get()\n        .catch(error => console.log(error))\n        .then(querySnapshot => {\n          console.log(querySnapshot);\n\n          querySnapshot.forEach(doc => {\n            console.log(doc.data());\n            this.stories.push(doc.data());\n          });\n        })\n        .finally(() => {\n          this.testStory.push(this.stories[1]);\n          this.testStory.push(this.stories[2]);\n          console.log(\"stories\", this.stories[1]);\n        });\n      this.$router.push(\"/politics\");\n      console.log(this.testStory);\n    } \n    else {\n      db.collection(\"published_stories\")\n        .doc(\"sport\")\n        .collection(\"stories\")\n        .get()\n        .catch(error => console.log(error))\n        .then(querySnapshot => {\n          console.log(querySnapshot);\n\n          querySnapshot.forEach(doc => {\n            console.log(doc.data());\n            this.stories.push(doc.data());\n          });\n        })\n        .finally(() => {\n          this.testStory.push(this.stories[1]);\n          this.testStory.push(this.stories[2]);\n          console.log(\"stories\", this.stories[1]);\n        });\n      this.$router.push(\"/society\");\n      console.log(this.testStory);\n    }\n  },\n  methods: {\n    edit(index) {\n      this.story = this.stories[index];\n      this.story = this.testStory[index];\n      console.log(index);\n      this.$router.push({\n        path: \"/detail\",\n        query: { story: this.story }\n      });\n    }\n  }\n};\n</script>\n<style src='../assets/css/society.css' scoped>\n</style>\n<style >\n.imgs p {\n  display: none;\n}\n.txt-img p {\n  display: none;\n}\n.txt-img ul li {\n  display: none;\n}\n.txt-img h2 {\n  display: none;\n}\n.imgs .image > img {\n  width: 100%;\n}\n.txt-img .image > img {\n  width: 100%;\n}\n</style>\n"]}]}